<!-- templates/staff/surveys/list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Quản lý khảo sát</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
    <style>
        body {
            background: linear-gradient(135deg, #e0eaff 0%, #f8fcff 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
        }
        .survey-list-container {
            max-width: 1100px;
            margin: 38px auto 0 auto;
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(30, 90, 170, 0.07), 0 1.5px 8px rgba(0, 0, 50, 0.03);
            padding: 38px 30px 30px 30px;
        }
        h2 {
            color: #1a56c9;
            font-weight: 700;
            margin-bottom: 25px;
            letter-spacing: 0.3px;
        }
        .btn-success {
            background: linear-gradient(90deg, #3683f5, #1a56c9);
            border: none;
            font-weight: 600;
            font-size: 1.07rem;
            border-radius: 9px;
            padding: 9px 28px;
            margin-bottom: 12px;
            transition: background 0.18s, box-shadow 0.15s;
            box-shadow: 0 3px 14px -6px #3683f550;
        }
        .btn-success:hover, .btn-success:focus {
            background: linear-gradient(90deg, #2155a5, #3683f5);
            box-shadow: 0 4px 18px -6px #3683f560;
        }
        .table {
            background: #f8fbff;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 0;
        }
        .table thead tr {
            background: #e8f0fe;
        }
        .table th {
            color: #1a56c9;
            font-weight: 600;
            border-bottom: 2.5px solid #b7cdf7 !important;
            font-size: 1.01rem;
        }
        .table td {
            border-top: 1.2px solid #e4eaf6 !important;
            vertical-align: middle;
            font-size: 0.97rem;
            background: #fafdff;
        }
        .table-bordered>tbody>tr>td, .table-bordered>thead>tr>th {
            border: none !important;
        }
        .btn-primary {
            background: #3683f5;
            border: none;
            border-radius: 7px;
            font-size: 0.95rem;
            font-weight: 500;
        }
        .btn-primary:hover, .btn-primary:focus {
            background: #1a56c9;
        }
        .btn-danger {
            background: #f8fafe;
            color: #de3d43;
            border: 1.2px solid #f5c0c0;
            border-radius: 7px;
            font-size: 0.95rem;
            font-weight: 500;
        }
        .btn-danger:hover, .btn-danger:focus {
            background: #f3e8e8;
            color: #c01321;
            border-color: #f0a9a9;
        }
        .btn-info {
            background: #e3f0ff;
            color: #246dc4;
            border-radius: 7px;
            font-size: 0.95rem;
            border: 1.2px solid #b7cdf7;
            font-weight: 500;
        }
        .btn-info:hover, .btn-info:focus {
            background: #b7cdf7;
            color: #123d78;
            border-color: #8aaee8;
        }
        @media (max-width: 1000px) {
            .survey-list-container {
                padding: 20px 3vw;
            }
            .table th, .table td {
                font-size: 0.97rem;
            }
        }
        @media (max-width: 700px) {
            .survey-list-container {
                padding: 8px 2vw;
            }
            .table th, .table td {
                font-size: 0.93rem;
                padding: 5px 2px;
            }
            h2 {
                font-size: 1.1rem;
            }
        }
    </style>
        <header th:replace="staff/header :: main-header"></header>

<div class="container mt-4">
    <h2>Danh sách bài khảo sát</h2>
    <a class="btn btn-success mb-3" th:href="@{/staff/surveys/add}">Thêm khảo sát mới</a>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Tên khảo sát</th>
                <th>Mô tả</th>
                <th>Chủ đề</th>
                <th>Số câu hỏi</th>
                <th>Trạng thái</th>
                <th>Thao tác</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="survey : ${surveys}">
                <td th:text="${survey.id}"></td>
                <td th:text="${survey.name}"></td>
                <td th:text="${survey.description}"></td>
                <td th:text="${survey.topic}"></td>
                <td th:text="${survey.questionCount}"></td>
                <td th:text="${survey.status}"></td>
                <td>
                    <a th:href="@{|/staff/surveys/edit/${survey.id}|}" class="btn btn-primary btn-sm">Sửa</a>
                    <form th:action="@{|/staff/surveys/delete/${survey.id}|}" method="post" style="display:inline-block" onsubmit="return confirm('Bạn có chắc muốn xóa?');">
                        <button type="submit" class="btn btn-danger btn-sm">Xóa</button>
                    </form>
                    <a th:href="@{|/staff/surveys/detail/${survey.id}|}" class="btn btn-info btn-sm">Xem chi tiết</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>
</body>
</html>
