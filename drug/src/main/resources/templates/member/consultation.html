<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tư vấn phòng ngừa ma túy</title>
    <link rel="stylesheet" th:href="@{/layout.css}">     
    <style>
        /* CSS chung */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1, h2, h3 {
            color: #2c3e50;
        }
        
        /* Phần tư vấn */
        .consultation-section {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .consultation-options {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }
        
        .consultation-card {
            flex: 1 1 300px;
            background-color: #f9f9f9;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid #ddd;
        }
        
        .consultation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border-color: #3498db;
        }
        
        .consultation-card h3 {
            margin-top: 0;
            color: #3498db;
        }
        
        .consultation-card p {
            color: #666;
        }
        
        .consultation-card i {
            font-size: 24px;
            margin-bottom: 10px;
            color: #3498db;
        }
        
        /* Form đặt lịch */
        .appointment-form {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 8px;
        }
        
        .appointment-form.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input, 
        .form-group select, 
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .form-group textarea {
            height: 100px;
        }
        
        .btn {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        /* Phần chat */
        .chat-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }
        
        .chat-option {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            background-color: #f9f9f9;
            border-radius: 30px;
            text-decoration: none;
            color: #333;
            transition: all 0.3s;
            border: 1px solid #ddd;
        }
        
        .chat-option:hover {
            transform: translateY(-3px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .chat-option i {
            margin-right: 10px;
            font-size: 20px;
        }
        
        .facebook { color: #1877f2; border-color: #1877f2; }
        .zalo { color: #0068ff; border-color: #0068ff; }
        .telegram { color: #0088cc; border-color: #0088cc; }
        .instagram { color: #e4405f; border-color: #e4405f; }
        .twitter { color: #1da1f2; border-color: #1da1f2; }
        
        /* Call option */
        .call-option {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .call-option i {
            font-size: 24px;
            color: #27ae60;
            margin-right: 15px;
        }
        
        .phone-number {
            font-size: 18px;
            font-weight: bold;
            color: #27ae60;
        }
        
        /* Thông báo */
        .notification {
            display: none;
            padding: 15px;
            background-color: #d4edda;
            color: #155724;
            border-radius: 4px;
            margin-top: 20px;
            border: 1px solid #c3e6cb;
        }
        
        .notification.active {
            display: block;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .consultation-options {
                flex-direction: column;
            }
            
            .consultation-card {
                flex: 1 1 auto;
            }
        }
    </style>
    <!-- Font Awesome cho icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Header từ Thymeleaf -->
  <header class="inner-header">
    <div class="inner-header-container">
        <a href="/" class="inner-logo-container">
            <div class="inner-logo-icon">DP</div>
            <div class="inner-logo-text">Drug<span>Free</span></div>
        </a>
        
        <nav class="inner-nav-menu">
            <a href="/" class="inner-nav-link active">Trang chủ</a>
            <a href="/courses" class="inner-nav-link">Khóa học</a>
            <a href="/assessment" class="inner-nav-link">Đánh giá nguy cơ</a>
            <a href="/consultation" class="inner-nav-link">Tư vấn</a>
            <a href="/blog" class="inner-nav-link">Blog</a>
            <a href="/about" class="inner-nav-link">Về chúng tôi</a>
        </nav>
        
        <div class="inner-auth-buttons">
            <button class="inner-btn-signin">Đăng nhập</button>
            <button class="inner-btn-signup">Đăng ký</button>
        </div>
        
        <button class="inner-menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</header>
<script>

    document.addEventListener('DOMContentLoaded', function() {
    const innerMenuToggle = document.querySelector('.inner-menu-toggle');
    const innerNavMenu = document.querySelector('.inner-nav-menu');
    const innerAuthButtons = document.querySelector('.inner-auth-buttons');
    
    innerMenuToggle.addEventListener('click', function() {
        // Tạo menu mobile tạm thời
        const innerMobileMenu = document.createElement('div');
        innerMobileMenu.className = 'inner-mobile-menu';
        innerMobileMenu.style.position = 'fixed';
        innerMobileMenu.style.top = '0';
        innerMobileMenu.style.right = '0';
        innerMobileMenu.style.width = '280px';
        innerMobileMenu.style.height = '100vh';
        innerMobileMenu.style.backgroundColor = 'white';
        innerMobileMenu.style.boxShadow = '-5px 0 15px rgba(0,0,0,0.1)';
        innerMobileMenu.style.padding = '80px 20px 20px';
        innerMobileMenu.style.zIndex = '1000';
        
        // Clone các phần tử menu
        const innerClonedNav = innerNavMenu.cloneNode(true);
        innerClonedNav.style.display = 'flex';
        innerClonedNav.style.flexDirection = 'column';
        innerClonedNav.style.gap = '10px';
        innerClonedNav.querySelectorAll('.inner-nav-link').forEach(link => {
            link.style.padding = '12px 16px';
        });
        
        const innerClonedAuth = innerAuthButtons.cloneNode(true);
        innerClonedAuth.style.display = 'flex';
        innerClonedAuth.style.flexDirection = 'column';
        innerClonedAuth.style.gap = '10px';
        innerClonedAuth.style.marginTop = '20px';
        innerClonedAuth.querySelectorAll('button').forEach(btn => {
            btn.style.width = '100%';
        });
        
        // Thêm nút đóng
        const innerCloseBtn = document.createElement('button');
        innerCloseBtn.innerHTML = '<i class="fas fa-times"></i>';
        innerCloseBtn.style.position = 'absolute';
        innerCloseBtn.style.top = '20px';
        innerCloseBtn.style.right = '20px';
        innerCloseBtn.style.background = 'none';
        innerCloseBtn.style.border = 'none';
        innerCloseBtn.style.fontSize = '20px';
        innerCloseBtn.style.cursor = 'pointer';
        
        innerCloseBtn.addEventListener('click', function() {
            document.body.removeChild(innerMobileMenu);
            document.body.style.overflow = 'auto';
        });
        
        // Thêm vào DOM
        innerMobileMenu.appendChild(innerCloseBtn);
        innerMobileMenu.appendChild(innerClonedNav);
        innerMobileMenu.appendChild(innerClonedAuth);
        document.body.appendChild(innerMobileMenu);
        document.body.style.overflow = 'hidden';
    });
});

    // Thêm sự kiện click cho các nút đăng nhập và đăng ký
    document.querySelector('.inner-btn-signin').addEventListener('click', function() {
        window.location.href = '/login';
    });

    document.querySelector('.inner-btn-signup').addEventListener('click', function() {
        window.location.href = '/register';
    });
    // Thêm sự kiện click cho các liên kết trong menu
    document.querySelectorAll('.inner-nav-link').forEach(link => {
        link.addEventListener('click', function() {
            document.body.style.overflow = 'auto';
        });
    });
    // Thêm sự kiện click cho nút đóng trong menu mobile
    document.addEventListener('click', function(event) {
        if (event.target.closest('.inner-close-btn')) {
            document.body.style.overflow = 'auto';
        }
    });
</script>

    <div class="container">
        <h1>Dịch vụ Tư vấn Phòng ngừa Ma túy</h1>
        <p>Chúng tôi cung cấp các dịch vụ tư vấn và hỗ trợ để giúp bạn phòng ngừa và vượt qua các vấn đề liên quan đến ma túy.</p>
        
        <div class="consultation-section">
            <h2><i class="fas fa-calendar-alt"></i> Đặt lịch hẹn tư vấn</h2>
            <p>Đặt lịch hẹn trực tiếp với chuyên viên tư vấn của chúng tôi để được hỗ trợ tốt nhất.</p>
            
            <div class="consultation-options">
                <div class="consultation-card" onclick="showAppointmentForm('online')">
                    <i class="fas fa-video"></i>
                    <h3>Tư vấn trực tuyến</h3>
                    <p>Tư vấn qua video call với chuyên viên, tiện lợi và bảo mật.</p>
                </div>
                
                <div class="consultation-card" onclick="showAppointmentForm('offline')">
                    <i class="fas fa-building"></i>
                    <h3>Tư vấn trực tiếp</h3>
                    <p>Gặp mặt trực tiếp tại văn phòng của chúng tôi.</p>
                </div>
            </div>
            
            <!-- Form đặt lịch hẹn -->
            <div id="appointmentForm" class="appointment-form">
                <h3 id="appointmentTitle">Đặt lịch hẹn tư vấn</h3>
                
                <form id="bookingForm" onsubmit="submitAppointment(event)">
                    <input type="hidden" id="consultationType" name="consultationType">
                    
                    <div class="form-group">
                        <label for="fullName">Họ và tên</label>
                        <input type="text" id="fullName" name="fullName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Số điện thoại</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="consultant">Chọn chuyên viên</label>
                        <select id="consultant" name="consultant" required>
                            <option value="">-- Chọn chuyên viên --</option>
                            <option value="1">Nguyễn Văn A - Chuyên gia tâm lý</option>
                            <option value="2">Trần Thị B - Chuyên viên cai nghiện</option>
                            <option value="3">Lê Văn C - Bác sĩ tâm thần</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="date">Ngày hẹn</label>
                        <input type="date" id="date" name="date" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="time">Giờ hẹn</label>
                        <input type="time" id="time" name="time" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">Ghi chú (nếu có)</label>
                        <textarea id="notes" name="notes"></textarea>
                    </div>
                    
                    <button type="submit" class="btn">Đặt lịch ngay</button>
                </form>
            </div>
            
            <!-- Thông báo đặt lịch thành công -->
            <div id="successNotification" class="notification">
                <i class="fas fa-check-circle"></i> Đặt lịch hẹn thành công! Chúng tôi sẽ liên hệ với bạn để xác nhận.
            </div>
        </div>
        
        <div class="consultation-section">
            <h2><i class="fas fa-comments"></i> Trò chuyện trực tiếp</h2>
            <p>Bạn có thể liên hệ với chúng tôi qua các nền tảng mạng xã hội dưới đây:</p>
            
            <div class="chat-options">
                <a href="https://facebook.com" class="chat-option facebook" target="_blank">
                    <i class="fab fa-facebook-f"></i> Facebook
                </a>
                
                <a href="https://zalo.me" class="chat-option zalo" target="_blank">
                    <i class="fab fa-zalo"></i> Zalo
                </a>
                
                <a href="https://telegram.org" class="chat-option telegram" target="_blank">
                    <i class="fab fa-telegram-plane"></i> Telegram
                </a>
                
                <a href="https://instagram.com" class="chat-option instagram" target="_blank">
                    <i class="fab fa-instagram"></i> Instagram
                </a>
                
                <a href="https://twitter.com" class="chat-option twitter" target="_blank">
                    <i class="fab fa-twitter"></i> Twitter
                </a>
            </div>
            
            <div class="call-option">
                <i class="fas fa-phone-alt"></i>
                <div>
                    <p>Gọi điện thoại trực tiếp:</p>
                    <p class="phone-number">1900 1234</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer từ Thymeleaf -->
    

    <script>
        // Hiển thị form đặt lịch
        function showAppointmentForm(type) {
            const form = document.getElementById('appointmentForm');
            const title = document.getElementById('appointmentTitle');
            const consultationType = document.getElementById('consultationType');
            
            if (type === 'online') {
                title.textContent = 'Đặt lịch hẹn tư vấn trực tuyến';
                consultationType.value = 'online';
            } else {
                title.textContent = 'Đặt lịch hẹn tư vấn trực tiếp';
                consultationType.value = 'offline';
            }
            
            // Ẩn thông báo thành công nếu có
            document.getElementById('successNotification').classList.remove('active');
            
            // Hiển thị form
            form.classList.add('active');
            
            // Cuộn đến form
            form.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Gửi form đặt lịch
        function submitAppointment(event) {
            event.preventDefault();
            
            // Lấy dữ liệu form (trong thực tế sẽ gửi AJAX đến server)
            const formData = new FormData(document.getElementById('bookingForm'));
            const data = Object.fromEntries(formData.entries());
            
            console.log('Dữ liệu đặt lịch:', data);
            
            // Ẩn form
            document.getElementById('appointmentForm').classList.remove('active');
            
            // Hiển thị thông báo thành công
            document.getElementById('successNotification').classList.add('active');
            
            // Cuộn đến thông báo
            document.getElementById('successNotification').scrollIntoView({ behavior: 'smooth' });
            
            // Reset form
            document.getElementById('bookingForm').reset();
            
            // Trong thực tế, bạn sẽ gửi dữ liệu đến server bằng AJAX
            // fetch('/api/appointments', {
            //     method: 'POST',
            //     headers: {
            //         'Content-Type': 'application/json',
            //     },
            //     body: JSON.stringify(data),
            // })
            // .then(response => response.json())
            // .then(data => {
            //     console.log('Success:', data);
            //     document.getElementById('appointmentForm').classList.remove('active');
            //     document.getElementById('successNotification').classList.add('active');
            // })
            // .catch((error) => {
            //     console.error('Error:', error);
            //     alert('Có lỗi xảy ra khi đặt lịch. Vui lòng thử lại.');
            // });
        }
        
        // Tạo icon Zalo vì Font Awesome không có
        document.addEventListener('DOMContentLoaded', function() {
            const zaloIcon = document.createElement('style');
            zaloIcon.innerHTML = `
                .fa-zalo:before {
                    content: "Z";
                    font-family: Arial, sans-serif;
                    font-weight: bold;
                    font-style: normal;
                }
            `;
            document.head.appendChild(zaloIcon);
        });
    </script>
</body>
</html>